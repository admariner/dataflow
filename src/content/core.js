function _t(e){let t=document.createElement("template");return t.innerHTML=e,document.importNode(t.content,!0)}function bt(e){let t=document.createElementNS("http://www.w3.org/2000/svg","g");return t.innerHTML=e,t}var vt=Object.assign(xe(_t,e=>{if(e.firstChild===null)return null;if(e.firstChild===e.lastChild)return e.removeChild(e.firstChild);let t=document.createElement("span");return t.appendChild(e),t}),{fragment:xe(_t,e=>e)}),wt=Object.assign(xe(bt,e=>e.firstChild===null?null:e.firstChild===e.lastChild?e.removeChild(e.firstChild):e),{fragment:xe(bt,e=>{let t=document.createDocumentFragment();for(;e.firstChild;)t.appendChild(e.firstChild);return t})}),Hr=9,Gr=10,Yr=12,zr=13,Vr=32,Wr=65,Xr=90,Jr=97,Qr=122,Te=60,x=62,D=47,A=45,Ue=33,$e=61,gt=34,Et=39,Kr=63,g=1,yt=2,xt=3,Be=4,Ce=5,R=6,Fe=7,Se=8,Ae=9,He=10,Ge=11,Ne=12,Ye=13,ne=14,Tt=15,Ct=16,M=17,St=18,At=19,Nt=20,Ot=21,ze=22,ie=23,kt=24,Lt=25,N=26,Mt=27,jt=28,Pt=29,Zr=128,Dt=1,en=8,tn=1,Rt="http://www.w3.org/2000/svg",F="http://www.w3.org/1999/xlink",qt="http://www.w3.org/XML/1998/namespace",It="http://www.w3.org/2000/xmlns/",Ut=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),Oe=new Map([["xlink:actuate",F],["xlink:arcrole",F],["xlink:href",F],["xlink:role",F],["xlink:show",F],["xlink:title",F],["xlink:type",F],["xml:lang",qt],["xml:space",qt],["xmlns",It],["xmlns:xlink",It]]);function xe(e,t){return function({raw:r}){let n=g,i="",s,o,a,f,c=0;for(let m=0,w=arguments.length;m<w;++m){let h=r[m];if(m>0){let l=arguments[m];switch(n){case N:{if(l!=null){let b=l+"";if($t(o))i+=b.replace(/[<]/g,K);else{if(new RegExp(`</${o}[\\s>/]`,"i").test(i.slice(-o.length-2)+b))throw new Error("unsafe raw text");i+=b}}break}case g:{l==null||(l instanceof Node||typeof l!="string"&&l[Symbol.iterator]||/(?:^|>)$/.test(r[m-1])&&/^(?:<|$)/.test(h)?(i+="<!--::"+m+"-->",c|=Zr):i+=(l+"").replace(/[<&]/g,K));break}case Ae:{n=Ne;let b;if(/^[\s>]/.test(h)){if(l==null||l===!1){i=i.slice(0,a-r[m-1].length);break}if(l===!0||(b=l+"")===""){i+="''";break}if(r[m-1].slice(a,f)==="style"&&Ve(l)||typeof l=="function"){i+="::"+m,c|=Dt;break}}if(b===void 0&&(b=l+""),b==="")throw new Error("unsafe unquoted empty string");i+=b.replace(/^['"]|[\s>&]/g,K);break}case Ne:{i+=(l+"").replace(/[\s>&]/g,K);break}case Ge:{i+=(l+"").replace(/['&]/g,K);break}case He:{i+=(l+"").replace(/["&]/g,K);break}case R:{if(Ve(l)){i+="::"+m+"=''",c|=Dt;break}throw new Error("invalid binding")}case M:break;default:throw new Error("invalid binding")}}for(let l=0,b=h.length;l<b;++l){let u=h.charCodeAt(l);switch(n){case g:{u===Te&&(n=yt);break}case yt:{u===Ue?n=Lt:u===D?n=xt:ke(u)?(s=l,o=void 0,n=Be,--l):u===Kr?(n=Ce,--l):(n=g,--l);break}case xt:{ke(u)?(n=Be,--l):u===x?n=g:(n=Ce,--l);break}case Be:{q(u)?(n=R,o=se(h,s,l)):u===D?n=ne:u===x&&(o=se(h,s,l),n=oe(o)?N:g);break}case R:{q(u)||(u===D||u===x?(n=Fe,--l):u===$e?(n=Se,a=l+1,f=void 0):(n=Se,--l,a=l+1,f=void 0));break}case Se:{q(u)||u===D||u===x?(n=Fe,--l,f=l):u===$e&&(n=Ae,f=l);break}case Fe:{q(u)||(u===D?n=ne:u===$e?n=Ae:u===x?n=oe(o)?N:g:(n=Se,--l,a=l+1,f=void 0));break}case Ae:{q(u)||(u===gt?n=He:u===Et?n=Ge:u===x?n=oe(o)?N:g:(n=Ne,--l));break}case He:{u===gt&&(n=Ye);break}case Ge:{u===Et&&(n=Ye);break}case Ne:{q(u)?n=R:u===x&&(n=oe(o)?N:g);break}case Ye:{q(u)?n=R:u===D?n=ne:u===x?n=oe(o)?N:g:(n=R,--l);break}case ne:{u===x?n=g:(n=R,--l);break}case Ce:{u===x&&(n=g);break}case Tt:{u===A?n=Ct:u===x?n=g:(n=M,--l);break}case Ct:{u===A?n=ie:u===x?n=g:(n=M,--l);break}case M:{u===Te?n=St:u===A&&(n=ze);break}case St:{u===Ue?n=At:u!==Te&&(n=M,--l);break}case At:{u===A?n=Nt:(n=M,--l);break}case Nt:{u===A?n=Ot:(n=ie,--l);break}case Ot:{n=ie,--l;break}case ze:{u===A?n=ie:(n=M,--l);break}case ie:{u===x?n=g:u===Ue?n=kt:u!==A&&(n=M,--l);break}case kt:{u===A?n=ze:u===x?n=g:(n=M,--l);break}case Lt:{u===A&&h.charCodeAt(l+1)===A?(n=Tt,++l):(n=Ce,--l);break}case N:{u===Te&&(n=Mt);break}case Mt:{u===D?n=jt:(n=N,--l);break}case jt:{ke(u)?(s=l,n=Pt,--l):(n=N,--l);break}case Pt:{q(u)&&o===se(h,s,l)?n=R:u===D&&o===se(h,s,l)?n=ne:u===x&&o===se(h,s,l)?n=g:ke(u)||(n=N,--l);break}default:{n=void 0;break}}}i+=h}let p=e(i),d=document.createTreeWalker(p,c,null,!1),_=[];for(;d.nextNode();){let m=d.currentNode;switch(m.nodeType){case tn:{let w=m.attributes;for(let h=0,l=w.length;h<l;++h){let{name:b,value:u}=w[h];if(/^::/.test(b)){let Q=arguments[+b.slice(2)];Bt(m,b),--h,--l;for(let re in Q){let P=Q[re];P==null||P===!1||(typeof P=="function"?m[re]=P:re==="style"&&Ve(P)?Ft(m[re],P):rn(m,re,P===!0?"":P))}}else if(/^::/.test(u)){let Q=arguments[+u.slice(2)];Bt(m,b),--h,--l,typeof Q=="function"?m[b]=Q:Ft(m[b],Q)}}break}case en:{if(/^::/.test(m.data)){let w=m.parentNode,h=arguments[+m.data.slice(2)];if(h instanceof Node)w.insertBefore(h,m);else if(typeof h!="string"&&h[Symbol.iterator])if(h instanceof NodeList||h instanceof HTMLCollection)for(let l=h.length-1,b=m;l>=0;--l)b=w.insertBefore(h[l],b);else for(let l of h)l!=null&&w.insertBefore(l instanceof Node?l:document.createTextNode(l),m);else w.insertBefore(document.createTextNode(h),m);_.push(m)}break}}}for(let m of _)m.parentNode.removeChild(m);return t(p)}}function K(e){return`&#${e.charCodeAt(0).toString()};`}function ke(e){return Wr<=e&&e<=Xr||Jr<=e&&e<=Qr}function q(e){return e===Hr||e===Gr||e===Yr||e===Vr||e===zr}function Ve(e){return e&&e.toString===Object.prototype.toString}function oe(e){return e==="script"||e==="style"||$t(e)}function $t(e){return e==="textarea"||e==="title"}function se(e,t,r){return e.slice(t,r).toLowerCase()}function rn(e,t,r){if(e.namespaceURI===Rt&&(t=t.toLowerCase(),t=Ut.get(t)||t,Oe.has(t))){e.setAttributeNS(Oe.get(t),t,r);return}e.setAttribute(t,r)}function Bt(e,t){if(e.namespaceURI===Rt&&(t=t.toLowerCase(),t=Ut.get(t)||t,Oe.has(t))){e.removeAttributeNS(Oe.get(t),t);return}e.removeAttribute(t)}function Ft(e,t){for(let r in t){let n=t[r];r.startsWith("--")?e.setProperty(r,n):e[r]=n}}function I(e,t,r){r=r||{};var n=e.ownerDocument,i=n.defaultView.CustomEvent;typeof i=="function"?i=new i(t,{detail:r}):(i=n.createEvent("Event"),i.initEvent(t,!1,!1),i.detail=r),e.dispatchEvent(i)}function Le(e){return Array.isArray(e)||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array}function Me(e){return e===(e|0)+""}function E(e){let t=document.createElement("span");return t.className="observablehq--cellname",t.textContent=`${e} = `,t}var nn=Symbol.prototype.toString;function O(e){return nn.call(e)}var{getOwnPropertySymbols:on,prototype:{hasOwnProperty:sn}}=Object,{toStringTag:an}=Symbol,We={},H=on;function Z(e,t){return sn.call(e,t)}function ae(e){return e[an]||e.constructor&&e.constructor.name||"Object"}function T(e,t){try{let r=e[t];return r&&r.constructor,r}catch(r){return We}}var ln=[{symbol:"@@__IMMUTABLE_INDEXED__@@",name:"Indexed",modifier:!0},{symbol:"@@__IMMUTABLE_KEYED__@@",name:"Keyed",modifier:!0},{symbol:"@@__IMMUTABLE_LIST__@@",name:"List",arrayish:!0},{symbol:"@@__IMMUTABLE_MAP__@@",name:"Map"},{symbol:"@@__IMMUTABLE_ORDERED__@@",name:"Ordered",modifier:!0,prefix:!0},{symbol:"@@__IMMUTABLE_RECORD__@@",name:"Record"},{symbol:"@@__IMMUTABLE_SET__@@",name:"Set",arrayish:!0,setish:!0},{symbol:"@@__IMMUTABLE_STACK__@@",name:"Stack",arrayish:!0}];function je(e){try{let t=ln.filter(({symbol:o})=>e[o]===!0);if(!t.length)return;let r=t.find(o=>!o.modifier),n=r.name==="Map"&&t.find(o=>o.modifier&&o.prefix),i=t.some(o=>o.arrayish),s=t.some(o=>o.setish);return{name:`${n?n.name:""}${r.name}`,symbols:t,arrayish:i&&!s,setish:s}}catch(t){return null}}var{getPrototypeOf:Xe,getOwnPropertyDescriptors:un}=Object,Ht=Xe({});function ue(e,t,r,n){let i=Le(e),s,o,a,f;e instanceof Map?e instanceof e.constructor?(s=`Map(${e.size})`,o=cn):(s="Map()",o=le):e instanceof Set?e instanceof e.constructor?(s=`Set(${e.size})`,o=fn):(s="Set()",o=le):i?(s=`${e.constructor.name}(${e.length})`,o=pn):(f=je(e))?(s=`Immutable.${f.name}${f.name==="Record"?"":`(${e.size})`}`,i=f.arrayish,o=f.arrayish?mn:f.setish?dn:_n):n?(s=ae(e),o=hn):(s=ae(e),o=le);let c=document.createElement("span");c.className="observablehq--expanded",r&&c.appendChild(E(r));let p=c.appendChild(document.createElement("a"));p.innerHTML=`<svg width=8 height=8 class='observablehq--caret'>
    <path d='M4 7L0 1h8z' fill='currentColor' />
  </svg>`,p.appendChild(document.createTextNode(`${s}${i?" [":" {"}`)),p.addEventListener("mouseup",function(d){d.stopPropagation(),G(c,ee(e,null,r,n))}),o=o(e);for(let d=0;!(a=o.next()).done&&d<20;++d)c.appendChild(a.value);if(!a.done){let d=c.appendChild(document.createElement("a"));d.className="observablehq--field",d.style.display="block",d.appendChild(document.createTextNode("  \u2026 more")),d.addEventListener("mouseup",function(_){_.stopPropagation(),c.insertBefore(a.value,c.lastChild.previousSibling);for(let m=0;!(a=o.next()).done&&m<19;++m)c.insertBefore(a.value,c.lastChild.previousSibling);a.done&&c.removeChild(c.lastChild.previousSibling),I(c,"load")})}return c.appendChild(document.createTextNode(i?"]":"}")),c}function*cn(e){for(let[t,r]of e)yield bn(t,r);yield*le(e)}function*fn(e){for(let t of e)yield Gt(t);yield*le(e)}function*dn(e){for(let t of e)yield Gt(t)}function*pn(e){for(let t=0,r=e.length;t<r;++t)t in e&&(yield j(t,T(e,t),"observablehq--index"));for(let t in e)!Me(t)&&Z(e,t)&&(yield j(t,T(e,t),"observablehq--key"));for(let t of H(e))yield j(O(t),T(e,t),"observablehq--symbol")}function*mn(e){let t=0;for(let r=e.size;t<r;++t)yield j(t,e.get(t),!0)}function*hn(e){for(let r in un(e))yield j(r,T(e,r),"observablehq--key");for(let r of H(e))yield j(O(r),T(e,r),"observablehq--symbol");let t=Xe(e);t&&t!==Ht&&(yield Yt(t))}function*le(e){for(let r in e)Z(e,r)&&(yield j(r,T(e,r),"observablehq--key"));for(let r of H(e))yield j(O(r),T(e,r),"observablehq--symbol");let t=Xe(e);t&&t!==Ht&&(yield Yt(t))}function*_n(e){for(let[t,r]of e)yield j(t,r,"observablehq--key")}function Yt(e){let t=document.createElement("div"),r=t.appendChild(document.createElement("span"));return t.className="observablehq--field",r.className="observablehq--prototype-key",r.textContent="  <prototype>",t.appendChild(document.createTextNode(": ")),t.appendChild(v(e,void 0,void 0,void 0,!0)),t}function j(e,t,r){let n=document.createElement("div"),i=n.appendChild(document.createElement("span"));return n.className="observablehq--field",i.className=r,i.textContent=`  ${e}`,n.appendChild(document.createTextNode(": ")),n.appendChild(v(t)),n}function bn(e,t){let r=document.createElement("div");return r.className="observablehq--field",r.appendChild(document.createTextNode("  ")),r.appendChild(v(e)),r.appendChild(document.createTextNode(" => ")),r.appendChild(v(t)),r}function Gt(e){let t=document.createElement("div");return t.className="observablehq--field",t.appendChild(document.createTextNode("  ")),t.appendChild(v(e)),t}function zt(e){let t=window.getSelection();return t.type==="Range"&&(t.containsNode(e,!0)||t.anchorNode.isSelfOrDescendant(e)||t.focusNode.isSelfOrDescendant(e))}function ee(e,t,r,n){let i=Le(e),s,o,a,f;if(e instanceof Map?e instanceof e.constructor?(s=`Map(${e.size})`,o=vn):(s="Map()",o=ce):e instanceof Set?e instanceof e.constructor?(s=`Set(${e.size})`,o=wn):(s="Set()",o=ce):i?(s=`${e.constructor.name}(${e.length})`,o=yn):(f=je(e))?(s=`Immutable.${f.name}${f.name==="Record"?"":`(${e.size})`}`,i=f.arrayish,o=f.arrayish?En:f.setish?gn:xn):(s=ae(e),o=ce),t){let d=document.createElement("span");return d.className="observablehq--shallow",r&&d.appendChild(E(r)),d.appendChild(document.createTextNode(s)),d.addEventListener("mouseup",function(_){zt(d)||(_.stopPropagation(),G(d,ee(e)))}),d}let c=document.createElement("span");c.className="observablehq--collapsed",r&&c.appendChild(E(r));let p=c.appendChild(document.createElement("a"));p.innerHTML=`<svg width=8 height=8 class='observablehq--caret'>
    <path d='M7 4L1 8V0z' fill='currentColor' />
  </svg>`,p.appendChild(document.createTextNode(`${s}${i?" [":" {"}`)),c.addEventListener("mouseup",function(d){zt(c)||(d.stopPropagation(),G(c,ue(e,null,r,n)))},!0),o=o(e);for(let d=0;!(a=o.next()).done&&d<20;++d)d>0&&c.appendChild(document.createTextNode(", ")),c.appendChild(a.value);return a.done||c.appendChild(document.createTextNode(", \u2026")),c.appendChild(document.createTextNode(i?"]":"}")),c}function*vn(e){for(let[t,r]of e)yield Tn(t,r);yield*ce(e)}function*wn(e){for(let t of e)yield v(t,!0);yield*ce(e)}function*gn(e){for(let t of e)yield v(t,!0)}function*En(e){let t=-1,r=0;for(let n=e.size;r<n;++r)r>t+1&&(yield Pe(r-t-1)),yield v(e.get(r),!0),t=r;r>t+1&&(yield Pe(r-t-1))}function*yn(e){let t=-1,r=0;for(let n=e.length;r<n;++r)r in e&&(r>t+1&&(yield Pe(r-t-1)),yield v(T(e,r),!0),t=r);r>t+1&&(yield Pe(r-t-1));for(let n in e)!Me(n)&&Z(e,n)&&(yield fe(n,T(e,n),"observablehq--key"));for(let n of H(e))yield fe(O(n),T(e,n),"observablehq--symbol")}function*ce(e){for(let t in e)Z(e,t)&&(yield fe(t,T(e,t),"observablehq--key"));for(let t of H(e))yield fe(O(t),T(e,t),"observablehq--symbol")}function*xn(e){for(let[t,r]of e)yield fe(t,r,"observablehq--key")}function Pe(e){let t=document.createElement("span");return t.className="observablehq--empty",t.textContent=e===1?"empty":`empty \xD7 ${e}`,t}function fe(e,t,r){let n=document.createDocumentFragment(),i=n.appendChild(document.createElement("span"));return i.className=r,i.textContent=e,n.appendChild(document.createTextNode(": ")),n.appendChild(v(t,!0)),n}function Tn(e,t){let r=document.createDocumentFragment();return r.appendChild(v(e,!0)),r.appendChild(document.createTextNode(" => ")),r.appendChild(v(t,!0)),r}function C(e,t){var r=e+"",n=r.length;return n<t?new Array(t-n+1).join(0)+r:r}function Cn(e){return e.getUTCMilliseconds()===0&&e.getUTCSeconds()===0&&e.getUTCMinutes()===0&&e.getUTCHours()===0}function Vt(e){return e<0?"-"+C(-e,6):e>9999?"+"+C(e,6):C(e,4)}function Je(e){return isNaN(e)?"Invalid Date":Cn(e)?Vt(e.getUTCFullYear())+"-"+C(e.getUTCMonth()+1,2)+"-"+C(e.getUTCDate(),2):Vt(e.getFullYear())+"-"+C(e.getMonth()+1,2)+"-"+C(e.getDate(),2)+"T"+C(e.getHours(),2)+":"+C(e.getMinutes(),2)+(e.getMilliseconds()?":"+C(e.getSeconds(),2)+"."+C(e.getMilliseconds(),3):e.getSeconds()?":"+C(e.getSeconds(),2):"")}var Sn=Error.prototype.toString;function Qe(e){return e.stack||Sn.call(e)}var An=RegExp.prototype.toString;function Ke(e){return An.call(e)}var Ze=20;function et(e,t,r,n){if(t===!1){if(Xt(e,/["\n]/g)<=Xt(e,/`|\${/g)){let c=document.createElement("span");n&&c.appendChild(E(n));let p=c.appendChild(document.createElement("span"));return p.className="observablehq--string",p.textContent=JSON.stringify(e),c}let o=e.split(`
`);if(o.length>Ze&&!r){let c=document.createElement("div");n&&c.appendChild(E(n));let p=c.appendChild(document.createElement("span"));p.className="observablehq--string",p.textContent="`"+Wt(o.slice(0,Ze).join(`
`));let d=c.appendChild(document.createElement("span")),_=o.length-Ze;return d.textContent=`Show ${_} truncated line${_>1?"s":""}`,d.className="observablehq--string-expand",d.addEventListener("mouseup",function(m){m.stopPropagation(),G(c,v(e,t,!0,n))}),c}let a=document.createElement("span");n&&a.appendChild(E(n));let f=a.appendChild(document.createElement("span"));return f.className=`observablehq--string${r?" observablehq--expanded":""}`,f.textContent="`"+Wt(e)+"`",a}let i=document.createElement("span");n&&i.appendChild(E(n));let s=i.appendChild(document.createElement("span"));return s.className="observablehq--string",s.textContent=JSON.stringify(e.length>100?`${e.slice(0,50)}\u2026${e.slice(-49)}`:e),i}function Wt(e){return e.replace(/[\\`\x00-\x09\x0b-\x19]|\${/g,Nn)}function Nn(e){var t=e.charCodeAt(0);switch(t){case 8:return"\\b";case 9:return"\\t";case 11:return"\\v";case 12:return"\\f";case 13:return"\\r"}return t<16?"\\x0"+t.toString(16):t<32?"\\x"+t.toString(16):"\\"+e}function Xt(e,t){for(var r=0;t.exec(e);)++r;return r}var On=Function.prototype.toString,kn={prefix:"async \u0192"},Ln={prefix:"async \u0192*"},Jt={prefix:"class"},Mn={prefix:"\u0192"},jn={prefix:"\u0192*"};function tt(e,t){var r,n,i=On.call(e);switch(e.constructor&&e.constructor.name){case"AsyncFunction":r=kn;break;case"AsyncGeneratorFunction":r=Ln;break;case"GeneratorFunction":r=jn;break;default:r=/^class\b/.test(i)?Jt:Mn;break}return r===Jt?de(r,"",t):(n=/^(?:async\s*)?(\w+)\s*=>/.exec(i))?de(r,"("+n[1]+")",t):(n=/^(?:async\s*)?\(\s*(\w+(?:\s*,\s*\w+)*)?\s*\)/.exec(i))?de(r,n[1]?"("+n[1].replace(/\s*,\s*/g,", ")+")":"()",t):(n=/^(?:async\s*)?function(?:\s*\*)?(?:\s*\w+)?\s*\(\s*(\w+(?:\s*,\s*\w+)*)?\s*\)/.exec(i))?de(r,n[1]?"("+n[1].replace(/\s*,\s*/g,", ")+")":"()",t):de(r,"(\u2026)",t)}function de(e,t,r){var n=document.createElement("span");n.className="observablehq--function",r&&n.appendChild(E(r));var i=n.appendChild(document.createElement("span"));return i.className="observablehq--keyword",i.textContent=e.prefix,n.appendChild(document.createTextNode(t)),n}var{prototype:{toString:Pn}}=Object;function v(e,t,r,n,i){let s=typeof e;switch(s){case"boolean":case"undefined":{e+="";break}case"number":{e=e===0&&1/e<0?"-0":e+"";break}case"bigint":{e=e+"n";break}case"symbol":{e=O(e,n);break}case"function":return tt(e,n);case"string":return et(e,t,r,n);default:{if(e===null){s=null,e="null";break}if(e instanceof Date){s="date",e=Je(e,n);break}if(e===We){s="forbidden",e="[forbidden]";break}switch(Pn.call(e)){case"[object RegExp]":{s="regexp",e=Ke(e,n);break}case"[object Error]":case"[object DOMException]":{s="error",e=Qe(e,n);break}default:return(r?ue:ee)(e,t,n,i)}break}}let o=document.createElement("span");n&&o.appendChild(E(n));let a=o.appendChild(document.createElement("span"));return a.className=`observablehq--${s}`,a.textContent=e,o}function G(e,t){e.classList.contains("observablehq--inspect")&&t.classList.add("observablehq--inspect"),e.parentNode.replaceChild(t,e),I(t,"load")}var Dn=/\s+\(\d+:\d+\)$/m,pe=class{constructor(t){if(!t)throw new Error("invalid node");this._node=t,t.classList.add("observablehq")}pending(){let{_node:t}=this;t.classList.remove("observablehq--error"),t.classList.add("observablehq--running")}fulfilled(t,r){let{_node:n}=this;if((!(t instanceof Element||t instanceof Text)||t.parentNode&&t.parentNode!==n)&&(t=v(t,!1,n.firstChild&&n.firstChild.classList&&n.firstChild.classList.contains("observablehq--expanded"),r),t.classList.add("observablehq--inspect")),n.classList.remove("observablehq--running","observablehq--error"),n.firstChild!==t)if(n.firstChild){for(;n.lastChild!==n.firstChild;)n.removeChild(n.lastChild);n.replaceChild(t,n.firstChild)}else n.appendChild(t);I(n,"update")}rejected(t,r){let{_node:n}=this;for(n.classList.remove("observablehq--running"),n.classList.add("observablehq--error");n.lastChild;)n.removeChild(n.lastChild);var i=document.createElement("div");i.className="observablehq--inspect",r&&i.appendChild(E(r)),i.appendChild(document.createTextNode((t+"").replace(Dn,""))),n.appendChild(i),I(n,"error",{error:t})}};pe.into=function(e){if(typeof e=="string"&&(e=document.querySelector(e),e==null))throw new Error("container not found");return function(){return new pe(e.appendChild(document.createElement("div")))}};var De=new Map,me=[],rt=me.map,Rn=me.some,qn=me.hasOwnProperty,U="https://cdn.jsdelivr.net/npm/",In=/^((?:@[^/@]+\/)?[^/@]+)(?:@([^/]+))?(?:\/(.*))?$/,Un=/^\d+\.\d+\.\d+(-[\w-.+]+)?$/,Qt=/\.[^/]*$/,$n=["unpkg","jsdelivr","browser","main"],Y=class extends Error{constructor(t){super(t)}};Y.prototype.name=Y.name;function Bn(e){for(let t of $n){let r=e[t];if(typeof r=="string")return Qt.test(r)?r:`${r}.js`}}function Kt(e){let t=In.exec(e);return t&&{name:t[1],version:t[2],path:t[3]}}function Zt(e){let t=`${U}${e.name}${e.version?`@${e.version}`:""}/package.json`,r=De.get(t);return r||De.set(t,r=fetch(t).then(n=>{if(!n.ok)throw new Y("unable to load package.json");return n.redirected&&!De.has(n.url)&&De.set(n.url,r),n.json()})),r}async function Fn(e,t){if(e.startsWith(U)&&(e=e.substring(U.length)),/^(\w+:)|\/\//i.test(e))return e;if(/^[.]{0,2}\//i.test(e))return new URL(e,t??location).href;if(!e.length||/^[\s._]/.test(e)||/\s$/.test(e))throw new Y("illegal name");let r=Kt(e);if(!r)return`${U}${e}`;if(!r.version&&t!=null&&t.startsWith(U)){let i=await Zt(Kt(t.substring(U.length)));r.version=i.dependencies&&i.dependencies[r.name]||i.peerDependencies&&i.peerDependencies[r.name]}if(r.path&&!Qt.test(r.path)&&(r.path+=".js"),r.path&&r.version&&Un.test(r.version))return`${U}${r.name}@${r.version}/${r.path}`;let n=await Zt(r);return`${U}${n.name}@${n.version}/${r.path||Bn(n)||"index.js"}`}var te=Re(Fn);function Re(e){let t=new Map,r=i(null);function n(a){if(typeof a!="string")return a;let f=t.get(a);return f||t.set(a,f=new Promise((c,p)=>{let d=document.createElement("script");d.onload=()=>{try{c(me.pop()(i(a)))}catch(_){p(new Y("invalid module"))}d.remove()},d.onerror=()=>{p(new Y("unable to load module")),d.remove()},d.async=!0,d.src=a,window.define=er,document.head.appendChild(d)})),f}function i(a){return f=>Promise.resolve(e(f,a)).then(n)}function s(a){return Re((f,c)=>f in a&&(f=a[f],c=null,typeof f!="string")?f:e(f,c))}function o(a){return arguments.length>1?Promise.all(rt.call(arguments,r)).then(Hn):r(a)}return o.alias=s,o.resolve=e,o}function Hn(e){let t={};for(let r of e)for(let n in r)qn.call(r,n)&&(r[n]==null?Object.defineProperty(t,n,{get:Gn(r,n)}):t[n]=r[n]);return t}function Gn(e,t){return()=>e[t]}function Yn(e){return e=e+"",e==="exports"||e==="module"}function er(e,t,r){let n=arguments.length;n<2?(r=e,t=[]):n<3&&(r=t,t=typeof e=="string"?[]:e),me.push(Rn.call(t,Yn)?i=>{let s={},o={exports:s};return Promise.all(rt.call(t,a=>(a=a+"",a==="exports"?s:a==="module"?o:i(a)))).then(a=>(r.apply(null,a),o.exports))}:i=>Promise.all(rt.call(t,i)).then(s=>typeof r=="function"?r.apply(null,s):r))}er.amd={};async function he(e){let t=await fetch(await e.url());if(!t.ok)throw new Error(`Unable to load file: ${e.name}`);return t}async function tr(e,t,{array:r=!1,typed:n=!1}={}){let[i,s]=await Promise.all([e.text(),te("d3-dsv@2.0.0/dist/d3-dsv.min.js")]);return(t==="	"?r?s.tsvParseRows:s.tsvParse:r?s.csvParseRows:s.csvParse)(i,n&&s.autoType)}var nt=class{constructor(t,r){Object.defineProperties(this,{_url:{value:t},name:{value:r,enumerable:!0}})}async url(){return await this._url+""}async blob(){return(await he(this)).blob()}async arrayBuffer(){return(await he(this)).arrayBuffer()}async text(){return(await he(this)).text()}async json(){return(await he(this)).json()}async stream(){return(await he(this)).body}async csv(t){return tr(this,",",t)}async tsv(t){return tr(this,"	",t)}async image(){let t=await this.url();return new Promise((r,n)=>{let i=new Image;new URL(t,document.baseURI).origin!==new URL(location).origin&&(i.crossOrigin="anonymous"),i.onload=()=>r(i),i.onerror=()=>n(new Error(`Unable to load file: ${this.name}`)),i.src=t})}};function rr(e){throw new Error(`File not found: ${e}`)}function qe(e){return Object.assign(t=>{let r=e(t+="");if(r==null)throw new Error(`File not found: ${t}`);return new nt(r,t)},{prototype:nt.prototype})}function k(e){return function(){return e}}function nr(e,t){var r=document.createElement("canvas");return r.width=e,r.height=t,r}function ir(e,t,r){r==null&&(r=devicePixelRatio);var n=document.createElement("canvas");n.width=e*r,n.height=t*r,n.style.width=e+"px";var i=n.getContext("2d");return i.scale(r,r),i}function or(e,t="untitled",r="Save"){let n=document.createElement("a"),i=n.appendChild(document.createElement("button"));i.textContent=r,n.download=t;async function s(){await new Promise(requestAnimationFrame),URL.revokeObjectURL(n.href),n.removeAttribute("href"),i.textContent=r,i.disabled=!1}return n.onclick=async o=>{if(i.disabled=!0,n.href)return s();i.textContent="Saving\u2026";try{let a=await(typeof e=="function"?e():e);i.textContent="Download",n.href=URL.createObjectURL(a)}catch(a){i.textContent=r}if(o.eventPhase)return s();i.disabled=!1},n}var Ie={math:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function sr(e,t){var r=e+="",n=r.indexOf(":"),i;n>=0&&(r=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1));var s=Ie.hasOwnProperty(r)?document.createElementNS(Ie[r],e):document.createElement(e);if(t)for(var o in t)r=o,n=r.indexOf(":"),i=t[o],n>=0&&(r=o.slice(0,n))!=="xmlns"&&(o=o.slice(n+1)),Ie.hasOwnProperty(r)?s.setAttributeNS(Ie[r],o,i):s.setAttribute(o,i);return s}function ar(e){var t=document.createElement("input");return e!=null&&(t.type=e),t}function lr(e,t,r){arguments.length===1&&(t=e,e=null);var n=document.createElement("input");return n.min=e=e==null?0:+e,n.max=t=t==null?1:+t,n.step=r==null?"any":r=+r,n.type="range",n}function ur(e){var t=document.createElement("select");return Array.prototype.forEach.call(e,function(r){var n=document.createElement("option");n.value=n.textContent=r,t.appendChild(n)}),t}function cr(e,t){var r=document.createElementNS("http://www.w3.org/2000/svg","svg");return r.setAttribute("viewBox",[0,0,e,t]),r.setAttribute("width",e),r.setAttribute("height",t),r}function fr(e){return document.createTextNode(e)}var zn=0;function pr(e){return new dr("O-"+(e==null?"":e+"-")+ ++zn)}function dr(e){this.id=e,this.href=new URL(`#${e}`,location)+""}dr.prototype.toString=function(){return"url("+this.href+")"};var mr={canvas:nr,context2d:ir,download:or,element:sr,input:ar,range:lr,select:ur,svg:cr,text:fr,uid:pr};function hr(e){return new Promise(function(t,r){var n=new FileReader;n.onload=function(){t(n.result)},n.onerror=r,n.readAsArrayBuffer(e)})}function _r(e){return new Promise(function(t,r){var n=new FileReader;n.onload=function(){t(n.result)},n.onerror=r,n.readAsText(e)})}function br(e){return new Promise(function(t,r){var n=new FileReader;n.onload=function(){t(n.result)},n.onerror=r,n.readAsDataURL(e)})}var vr={buffer:hr,text:_r,url:br};function z(){return this}function _e(e,t){let r=!1;if(typeof t!="function")throw new Error("dispose is not a function");return{[Symbol.iterator]:z,next:()=>r?{done:!0}:(r=!0,{done:!1,value:e}),return:()=>(r=!0,t(e),{done:!0}),throw:()=>({done:r=!0})}}function*wr(e,t){for(var r,n=-1;!(r=e.next()).done;)t(r.value,++n)&&(yield r.value)}function $(e){let t=!1,r,n,i=e(s);if(i!=null&&typeof i!="function")throw new Error(typeof i.then=="function"?"async initializers are not supported":"initializer returned something, but not a dispose function");function s(a){return n?(n(a),n=null):t=!0,r=a}function o(){return{done:!1,value:t?(t=!1,Promise.resolve(r)):new Promise(a=>n=a)}}return{[Symbol.iterator]:z,throw:()=>({done:!0}),return:()=>(i!=null&&i(),{done:!0}),next:o}}function Er(e){return $(function(t){var r=Vn(e),n=gr(e);function i(){t(gr(e))}return e.addEventListener(r,i),n!==void 0&&t(n),function(){e.removeEventListener(r,i)}})}function gr(e){switch(e.type){case"range":case"number":return e.valueAsNumber;case"date":return e.valueAsDate;case"checkbox":return e.checked;case"file":return e.multiple?e.files:e.files[0];case"select-multiple":return Array.from(e.selectedOptions,t=>t.value);default:return e.value}}function Vn(e){switch(e.type){case"button":case"submit":case"checkbox":return"click";case"file":return"change";default:return"input"}}function*yr(e,t){for(var r,n=-1;!(r=e.next()).done;)yield t(r.value,++n)}function xr(e){let t,r=[],n=e(i);if(n!=null&&typeof n!="function")throw new Error(typeof n.then=="function"?"async initializers are not supported":"initializer returned something, but not a dispose function");function i(o){return r.push(o),t&&(t(r.shift()),t=null),o}function s(){return{done:!1,value:r.length?Promise.resolve(r.shift()):new Promise(o=>t=o)}}return{[Symbol.iterator]:z,throw:()=>({done:!0}),return:()=>(n!=null&&n(),{done:!0}),next:s}}function*Tr(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0;++n<i;)yield e+n*r}function Cr(e,t){if(!(!isFinite(t=+t)||t<0||t!==t|0)){for(var r,n=-1;!(r=e.next()).done;)if(++n===t)return r.value}}function it(e){let t=URL.createObjectURL(new Blob([e],{type:"text/javascript"})),r=new Worker(t);return _e(r,()=>{r.terminate(),URL.revokeObjectURL(t)})}var Sr={disposable:_e,filter:wr,input:Er,map:yr,observe:$,queue:xr,range:Tr,valueAt:Cr,worker:it};function V(e,t){return function(r){var n=r[0],i=[],s,o=null,a,f,c,p,d,_,m,w=-1;for(p=1,d=arguments.length;p<d;++p){if(s=arguments[p],s instanceof Node)i[++w]=s,n+="<!--o:"+w+"-->";else if(Array.isArray(s)){for(_=0,m=s.length;_<m;++_)a=s[_],a instanceof Node?(o===null&&(i[++w]=o=document.createDocumentFragment(),n+="<!--o:"+w+"-->"),o.appendChild(a)):(o=null,n+=a);o=null}else n+=s;n+=r[p]}if(o=e(n),++w>0){for(f=new Array(w),c=document.createTreeWalker(o,NodeFilter.SHOW_COMMENT,null,!1);c.nextNode();)a=c.currentNode,/^o:/.test(a.nodeValue)&&(f[+a.nodeValue.slice(2)]=a);for(p=0;p<w;++p)(a=f[p])&&a.parentNode.replaceChild(i[p],a)}return o.childNodes.length===1?o.removeChild(o.firstChild):o.nodeType===11?((a=t()).appendChild(o),a):o}}var Ar=V(function(e){var t=document.createElement("template");return t.innerHTML=e.trim(),document.importNode(t.content,!0)},function(){return document.createElement("span")});var ot="https://cdn.jsdelivr.net/npm/@observablehq/highlight.js@2.0.0/";function Nr(e){return function(){return e("marked@0.3.12/marked.min.js").then(function(t){return V(function(r){var n=document.createElement("div");n.innerHTML=t(r,{langPrefix:""}).trim();var i=n.querySelectorAll("pre code[class]");return i.length>0&&e(ot+"highlight.min.js").then(function(s){i.forEach(function(o){function a(){s.highlightBlock(o),o.parentNode.classList.add("observablehq--md-pre")}s.getLanguage(o.className)?a():e(ot+"async-languages/index.js").then(f=>{if(f.has(o.className))return e(ot+"async-languages/"+f.get(o.className)).then(c=>{s.registerLanguage(o.className,c)})}).then(a,a)})}),n},function(){return document.createElement("div")})})}}function st(e){let t;Object.defineProperties(this,{generator:{value:$(r=>void(t=r))},value:{get:()=>e,set:r=>t(e=r)}}),e!==void 0&&t(e)}function*Or(){for(;;)yield Date.now()}function kr(e,t){return new Promise(function(r){setTimeout(function(){r(t)},e)})}var at=new Map;function Wn(e,t){var r=new Promise(function(n){at.delete(t);var i=t-e;if(!(i>0))throw new Error("invalid time");if(i>2147483647)throw new Error("too long to wait");setTimeout(n,i)});return at.set(t,r),r}function be(e,t){var r;return(r=at.get(e=+e))?r.then(k(t)):(r=Date.now())>=e?Promise.resolve(t):Wn(r,e).then(k(t))}function Lr(e,t){return be(Math.ceil((Date.now()+1)/e)*e,t)}var Mr={delay:kr,tick:Lr,when:be};function lt(e,t){if(/^(\w+:)|\/\//i.test(e))return e;if(/^[.]{0,2}\//i.test(e))return new URL(e,t??location).href;if(!e.length||/^[\s._]/.test(e)||/\s$/.test(e))throw new Error("illegal name");return"https://unpkg.com/"+e}function jr(e){return e==null?te:Re(e)}var Pr=V(function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","g");return t.innerHTML=e.trim(),t},function(){return document.createElementNS("http://www.w3.org/2000/svg","g")});var Xn=String.raw;function Jn(e){return new Promise(function(t,r){var n=document.createElement("link");n.rel="stylesheet",n.href=e,n.onerror=r,n.onload=t,document.head.appendChild(n)})}function Dr(e){return function(){return Promise.all([e("@observablehq/katex@0.11.1/dist/katex.min.js"),e.resolve("@observablehq/katex@0.11.1/dist/katex.min.css").then(Jn)]).then(function(t){var r=t[0],n=i();function i(s){return function(){var o=document.createElement("div");return r.render(Xn.apply(String,arguments),o,s),o.removeChild(o.firstChild)}}return n.options=i,n.block=i({displayMode:!0}),n})}}function Rr(){return $(function(e){var t=e(document.body.clientWidth);function r(){var n=document.body.clientWidth;n!==t&&e(t=n)}return window.addEventListener("resize",r),function(){window.removeEventListener("resize",r)}})}var B=Object.assign(function(t){let r=jr(t);Object.defineProperties(this,{DOM:{value:mr,writable:!0,enumerable:!0},FileAttachment:{value:k(rr),writable:!0,enumerable:!0},Files:{value:vr,writable:!0,enumerable:!0},Generators:{value:Sr,writable:!0,enumerable:!0},html:{value:k(Ar),writable:!0,enumerable:!0},md:{value:Nr(r),writable:!0,enumerable:!0},Mutable:{value:k(st),writable:!0,enumerable:!0},now:{value:Or,writable:!0,enumerable:!0},Promises:{value:Mr,writable:!0,enumerable:!0},require:{value:k(r),writable:!0,enumerable:!0},resolve:{value:k(lt),writable:!0,enumerable:!0},svg:{value:k(Pr),writable:!0,enumerable:!0},tex:{value:Dr(r),writable:!0,enumerable:!0},width:{value:Rr,writable:!0,enumerable:!0}})},{resolve:te.resolve});function y(e,t){this.message=e+"",this.input=t}y.prototype=Object.create(Error.prototype);y.prototype.name="RuntimeError";y.prototype.constructor=y;function ut(e){return e&&typeof e.next=="function"&&typeof e.return=="function"}function ct(e,t,r){if(typeof t=="function"&&(r=t,t=null),typeof r!="function")throw new Error("invalid observer");t==null&&(t=new B);let{modules:n,id:i}=e,s=new Map,o=new W(t),a=f(i);function f(c){let p=s.get(c);return p||s.set(c,p=o.module()),p}for(let c of n){let p=f(c.id),d=0;for(let _ of c.variables)_.from?p.import(_.remote,_.name,f(_.from)):p===a?p.variable(r(_,d,c.variables)).define(_.name,_.inputs,_.value):p.define(_.name,_.inputs,_.value),++d}return o}var qr=Array.prototype,Ir=qr.map,Ur=qr.forEach;function ve(e){return function(){return e}}function we(e){return e}function $r(e){return function(){throw e}}function S(){}var ge=1,Ee=2,ye=3,X={};function L(e,t,r){r||(r=X),Object.defineProperties(this,{_observer:{value:r,writable:!0},_definition:{value:ft,writable:!0},_duplicate:{value:void 0,writable:!0},_duplicates:{value:void 0,writable:!0},_indegree:{value:NaN,writable:!0},_inputs:{value:[],writable:!0},_invalidate:{value:S,writable:!0},_module:{value:t},_name:{value:null,writable:!0},_outputs:{value:new Set,writable:!0},_promise:{value:Promise.resolve(void 0),writable:!0},_reachable:{value:r!==X,writable:!0},_rejector:{value:Qn(this)},_type:{value:e},_value:{value:void 0,writable:!0},_version:{value:0,writable:!0}})}Object.defineProperties(L.prototype,{_pending:{value:ti,writable:!0,configurable:!0},_fulfilled:{value:ri,writable:!0,configurable:!0},_rejected:{value:ni,writable:!0,configurable:!0},define:{value:Kn,writable:!0,configurable:!0},delete:{value:ei,writable:!0,configurable:!0},import:{value:Zn,writable:!0,configurable:!0}});function ii(e){e._module._runtime._dirty.add(e),e._outputs.add(this)}function oi(e){e._module._runtime._dirty.add(e),e._outputs.delete(this)}function ft(){throw ft}function Qn(e){return function(t){throw t===ft?new y(e._name+" is not defined",e._name):t instanceof Error&&t.message?new y(t.message,e._name):new y(e._name+" could not be resolved",e._name)}}function Br(e){return function(){throw new y(e+" is defined more than once")}}function Kn(e,t,r){switch(arguments.length){case 1:{r=e,e=t=null;break}case 2:{r=t,typeof e=="string"?t=null:(t=e,e=null);break}}return dt.call(this,e==null?null:e+"",t==null?[]:Ir.call(t,this._module._resolve,this._module),typeof r=="function"?r:ve(r))}function dt(e,t,r){var n=this._module._scope,i=this._module._runtime;if(this._inputs.forEach(oi,this),t.forEach(ii,this),this._inputs=t,this._definition=r,this._value=void 0,r===S?i._variables.delete(this):i._variables.add(this),e!==this._name||n.get(e)!==this){var s,o;if(this._name)if(this._outputs.size)n.delete(this._name),o=this._module._resolve(this._name),o._outputs=this._outputs,this._outputs=new Set,o._outputs.forEach(function(a){a._inputs[a._inputs.indexOf(this)]=o},this),o._outputs.forEach(i._updates.add,i._updates),i._dirty.add(o).add(this),n.set(this._name,o);else if((o=n.get(this._name))===this)n.delete(this._name);else if(o._type===ye)o._duplicates.delete(this),this._duplicate=void 0,o._duplicates.size===1&&(o=o._duplicates.keys().next().value,s=n.get(this._name),o._outputs=s._outputs,s._outputs=new Set,o._outputs.forEach(function(a){a._inputs[a._inputs.indexOf(s)]=o}),o._definition=o._duplicate,o._duplicate=void 0,i._dirty.add(s).add(o),i._updates.add(o),n.set(this._name,o));else throw new Error;if(this._outputs.size)throw new Error;e&&((o=n.get(e))?o._type===ye?(this._definition=Br(e),this._duplicate=r,o._duplicates.add(this)):o._type===Ee?(this._outputs=o._outputs,o._outputs=new Set,this._outputs.forEach(function(a){a._inputs[a._inputs.indexOf(o)]=this},this),i._dirty.add(o).add(this),n.set(e,this)):(o._duplicate=o._definition,this._duplicate=r,s=new L(ye,this._module),s._name=e,s._definition=this._definition=o._definition=Br(e),s._outputs=o._outputs,o._outputs=new Set,s._outputs.forEach(function(a){a._inputs[a._inputs.indexOf(o)]=s}),s._duplicates=new Set([this,o]),i._dirty.add(o).add(s),i._updates.add(o).add(s),n.set(e,s)):n.set(e,this)),this._name=e}return i._updates.add(this),i._compute(),this}function Zn(e,t,r){return arguments.length<3&&(r=t,t=e),dt.call(this,t+"",[r._resolve(e+"")],we)}function ei(){return dt.call(this,null,[],S)}function ti(){this._observer.pending&&this._observer.pending()}function ri(e){this._observer.fulfilled&&this._observer.fulfilled(e,this._name)}function ni(e){this._observer.rejected&&this._observer.rejected(e,this._name)}function J(e,t=[]){Object.defineProperties(this,{_runtime:{value:e},_scope:{value:new Map},_builtins:{value:new Map([["invalidation",pt],["visibility",mt],...t])},_source:{value:null,writable:!0}})}Object.defineProperties(J.prototype,{_copy:{value:di,writable:!0,configurable:!0},_resolve:{value:pi,writable:!0,configurable:!0},redefine:{value:si,writable:!0,configurable:!0},define:{value:ai,writable:!0,configurable:!0},derive:{value:fi,writable:!0,configurable:!0},import:{value:li,writable:!0,configurable:!0},value:{value:ci,writable:!0,configurable:!0},variable:{value:ui,writable:!0,configurable:!0},builtin:{value:mi,writable:!0,configurable:!0}});function si(e){var t=this._scope.get(e);if(!t)throw new y(e+" is not defined");if(t._type===ye)throw new y(e+" is defined more than once");return t.define.apply(t,arguments)}function ai(){var e=new L(ge,this);return e.define.apply(e,arguments)}function li(){var e=new L(ge,this);return e.import.apply(e,arguments)}function ui(e){return new L(ge,this,e)}async function ci(e){var t=this._scope.get(e);if(!t)throw new y(e+" is not defined");return t._observer===X&&(t._observer=!0,this._runtime._dirty.add(t)),await this._runtime._compute(),t._promise}function fi(e,t){var r=new J(this._runtime,this._builtins);return r._source=this,Ur.call(e,function(n){typeof n!="object"&&(n={name:n+""}),n.alias==null&&(n.alias=n.name),r.import(n.name,n.alias,t)}),Promise.resolve().then(()=>{let n=new Set([this]);for(let i of n)for(let s of i._scope.values())if(s._definition===we){let o=s._inputs[0]._module,a=o._source||o;if(a===this){console.warn("circular module definition; ignoring");return}n.add(a)}this._copy(r,new Map)}),r}function di(e,t){e._source=this,t.set(this,e);for(let[s,o]of this._scope){var r=e._scope.get(s);if(!(r&&r._type===ge))if(o._definition===we){var n=o._inputs[0],i=n._module;e.import(n._name,s,t.get(i)||(i._source?i._copy(new J(e._runtime,e._builtins),t):i))}else e.define(s,o._inputs.map(hi),o._definition)}return e}function pi(e){var t=this._scope.get(e),r;if(!t)if(t=new L(Ee,this),this._builtins.has(e))t.define(e,ve(this._builtins.get(e)));else if(this._runtime._builtin._scope.has(e))t.import(e,this._runtime._builtin);else{try{r=this._runtime._global(e)}catch(n){return t.define(e,$r(n))}r===void 0?this._scope.set(t._name=e,t):t.define(e,ve(r))}return t}function mi(e,t){this._builtins.set(e,t)}function hi(e){return e._name}var _i=typeof requestAnimationFrame=="function"?requestAnimationFrame:setImmediate,pt={},mt={};function W(e=new B,t=bi){var r=this.module();if(Object.defineProperties(this,{_dirty:{value:new Set},_updates:{value:new Set},_computing:{value:null,writable:!0},_init:{value:null,writable:!0},_modules:{value:new Map},_variables:{value:new Set},_disposed:{value:!1,writable:!0},_builtin:{value:r},_global:{value:t}}),e)for(var n in e)new L(Ee,r).define(n,[],e[n])}Object.defineProperties(W,{load:{value:ct,writable:!0,configurable:!0}});Object.defineProperties(W.prototype,{_compute:{value:gi,writable:!0,configurable:!0},_computeSoon:{value:Ei,writable:!0,configurable:!0},_computeNow:{value:yi,writable:!0,configurable:!0},dispose:{value:vi,writable:!0,configurable:!0},module:{value:wi,writable:!0,configurable:!0},fileAttachments:{value:qe,writable:!0,configurable:!0}});function vi(){this._computing=Promise.resolve(),this._disposed=!0,this._variables.forEach(e=>{e._invalidate(),e._version=NaN})}function wi(e,t=S){let r;if(e===void 0)return(r=this._init)?(this._init=null,r):new J(this);if(r=this._modules.get(e),r)return r;this._init=r=new J(this),this._modules.set(e,r);try{e(this,t)}finally{this._init=null}return r}function gi(){return this._computing||(this._computing=this._computeSoon())}function Ei(){var e=this;return new Promise(function(t){_i(function(){t(),e._disposed||e._computeNow()})})}function yi(){var e=[],t,r;t=new Set(this._dirty),t.forEach(function(i){i._inputs.forEach(t.add,t);let s=Ni(i);s>i._reachable?this._updates.add(i):s<i._reachable&&i._invalidate(),i._reachable=s},this),t=new Set(this._updates),t.forEach(function(i){i._reachable?(i._indegree=0,i._outputs.forEach(t.add,t)):(i._indegree=NaN,t.delete(i))}),this._computing=null,this._updates.clear(),this._dirty.clear(),t.forEach(function(i){i._outputs.forEach(Ti)});do{for(t.forEach(function(i){i._indegree===0&&e.push(i)});r=e.pop();)Si(r),r._outputs.forEach(n),t.delete(r);t.forEach(function(i){xi(i)&&(Ai(i,new y("circular definition")),i._outputs.forEach(Ci),t.delete(i))})}while(t.size);function n(i){--i._indegree==0&&e.push(i)}}function xi(e){let t=new Set(e._inputs);for(let r of t){if(r===e)return!0;r._inputs.forEach(t.add,t)}return!1}function Ti(e){++e._indegree}function Ci(e){--e._indegree}function Oi(e){return e._promise.catch(e._rejector)}function ht(e){return new Promise(function(t){e._invalidate=t})}function ki(e,t){let r=typeof IntersectionObserver=="function"&&t._observer&&t._observer._node,n=!r,i=S,s=S,o,a;return r&&(a=new IntersectionObserver(([f])=>(n=f.isIntersecting)&&(o=null,i())),a.observe(r),e.then(()=>(a.disconnect(),a=null,s()))),function(f){return n?Promise.resolve(f):a?(o||(o=new Promise((c,p)=>(i=c,s=p))),o.then(()=>f)):Promise.reject()}}function Si(e){e._invalidate(),e._invalidate=S,e._pending();var t=e._value,r=++e._version,n=null,i=e._promise=Promise.all(e._inputs.map(Oi)).then(function(s){if(e._version===r){for(var o=0,a=s.length;o<a;++o)switch(s[o]){case pt:{s[o]=n=ht(e);break}case mt:{n||(n=ht(e)),s[o]=ki(n,e);break}}return e._definition.apply(t,s)}}).then(function(s){return ut(s)?e._version!==r?void s.return():((n||ht(e)).then(Mi(s)),Li(e,r,i,s)):s});i.then(function(s){e._version===r&&(e._value=s,e._fulfilled(s))},function(s){e._version===r&&(e._value=void 0,e._rejected(s))})}function Li(e,t,r,n){function i(){var s=new Promise(function(o){o(n.next())}).then(function(o){return o.done?void 0:Promise.resolve(o.value).then(function(a){if(e._version===t)return Fr(e,a,s).then(i),e._fulfilled(a),a})});s.catch(function(o){e._version===t&&(Fr(e,void 0,s),e._rejected(o))})}return new Promise(function(s){s(n.next())}).then(function(s){if(!s.done)return r.then(i),s.value})}function Fr(e,t,r){var n=e._module._runtime;return e._value=t,e._promise=r,e._outputs.forEach(n._updates.add,n._updates),n._compute()}function Ai(e,t){e._invalidate(),e._invalidate=S,e._pending(),++e._version,e._indegree=NaN,(e._promise=Promise.reject(t)).catch(S),e._value=void 0,e._rejected(t)}function Mi(e){return function(){e.return()}}function Ni(e){if(e._observer!==X)return!0;var t=new Set(e._outputs);for(let r of t){if(r._observer!==X)return!0;r._outputs.forEach(t.add,t)}return!1}function bi(e){return window[e]}function ul(){window.OJS_STDLIB||(window.OJS_STDLIB={constants:{},dependency:{}}),window.OJS_STDLIB.constants||(window.OJS_STDLIB.constants={}),window.OJS_STDLIB.dependency||(window.OJS_STDLIB.dependency={});let e=new B,t=Object.assign(e,{html:()=>vt,svg:()=>wt},window.OJS_STDLIB.constants),r={};for(let[n,i]of Object.entries(window.OJS_STDLIB.dependency))for(let[s,o]of Object.entries(i)){let a=t[n];Object.defineProperty(t,s,{writable:!0,enumerable:!0,value:typeof a=="function"?o(a()):a.then(f=>o(f))})}return t}export{pe as Inspector,ul as Library,W as Runtime};
